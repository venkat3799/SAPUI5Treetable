<?xml version="1.0" encoding="UTF-8" standalone="no"?><SQLQuery AllowBuffering="false" AllowFuture="true" AllowNullValues="false" AutoCommit="True" AutoTypeParameters="false" CacheDuration="0" CacheDurationUnits="M" Columns="" Comment="" Connector="" DateColumn="" DateFormat="MM/dd/yyyy HH:mm:ss" Debug="false" Description="" DocType="SQLQuery" Duration="60" DurationUnits="M" EndDate="" FilterExpr="" FixedQuery="" Group="" GroupingExpr="" HanaDataSource="False" ID="1357064" InlineTransform="" IntervalCount="1" IsCachable="false" JoinExpr="" Mask="" Method="" Mode="FixedQuery" NumberFormat="0.00" Param.1="10204259" Param.10="" Param.11="" Param.12="" Param.13="" Param.14="" Param.15="" Param.16="" Param.17="" Param.18="" Param.19="" Param.2="" Param.20="" Param.21="" Param.22="" Param.23="" Param.24="" Param.25="" Param.26="" Param.27="" Param.28="" Param.29="" Param.3="" Param.30="" Param.31="" Param.32="" Param.4="" Param.5="" Param.6="" Param.7="" Param.8="" Param.9="" ParamDescription.1="" ParamDescription.10="" ParamDescription.11="" ParamDescription.12="" ParamDescription.13="" ParamDescription.14="" ParamDescription.15="" ParamDescription.16="" ParamDescription.17="" ParamDescription.18="" ParamDescription.19="" ParamDescription.2="" ParamDescription.20="" ParamDescription.21="" ParamDescription.22="" ParamDescription.23="" ParamDescription.24="" ParamDescription.25="" ParamDescription.26="" ParamDescription.27="" ParamDescription.28="" ParamDescription.29="" ParamDescription.3="" ParamDescription.30="" ParamDescription.31="" ParamDescription.32="" ParamDescription.4="" ParamDescription.5="" ParamDescription.6="" ParamDescription.7="" ParamDescription.8="" ParamDescription.9="" ParamType.1="" ParamType.10="" ParamType.11="" ParamType.12="" ParamType.13="" ParamType.14="" ParamType.15="" ParamType.16="" ParamType.17="" ParamType.18="" ParamType.19="" ParamType.2="" ParamType.20="" ParamType.21="" ParamType.22="" ParamType.23="" ParamType.24="" ParamType.25="" ParamType.26="" ParamType.27="" ParamType.28="" ParamType.29="" ParamType.3="" ParamType.30="" ParamType.31="" ParamType.32="" ParamType.4="" ParamType.5="" ParamType.6="" ParamType.7="" ParamType.8="" ParamType.9="" Password="" PathID="6900" Query="WITH A AS (&#10;   SELECT &#10;SFC.SFC AS SFC,&#10;REGEXP_SUBSTR (BOM_OPERATION.OPERATION_BO, '[^,]+', 1, 2) AS OPERATION,&#10;--SUBSTR(BOM_OPERATION.OPERATION_BO,18,13) AS OPERATION,&#10;REGEXP_SUBSTR (BOM_COMPONENT.COMPONENT_GBO, '[^,]+', 1, 2) AS REQUIRED_COMPONENT ,&#10;--SUBSTR(BOM_COMPONENT.COMPONENT_GBO,13,LENGTH(BOM_COMPONENT.COMPONENT_GBO)-14) AS REQUIRED_COMPONENT ,&#10;ITEM.DESCRIPTION,&#10;&#10;BOM_COMPONENT.QTY AS QTY_TO_ASSEMBLE,&#10;SFC_ASSY.COMPONENT_BO AS ASSEMBLED_COMPONENT,&#10;NVL(SFC_ASSY.QTY,0) AS ASSEMBLED_QTY,&#10;CASE WHEN ITEM.ASSY_DATA_TYPE_BO = 'DataTypeBO:1020,ASSEMBLY,NONE' THEN 'No' ELSE 'Yes' END AS IS_SERIALISED,&#10;CASE WHEN ITEM.ERP_BACKFLUSHING = 'true' THEN 'Yes' ELSE 'No' END AS IS_BACK_FLUSH,&#10;SFC_ASSY_DATA.DATA_FIELD,&#10;SFC_ASSY_DATA.DATA_ATTR, &#10;SFC_ASSY.ASSEMBLED_DATE,&#10;REGEXP_SUBSTR (SFC.SHOP_ORDER_BO, '[^,]+', 1, 2) AS SHOP_ORDER,&#10;AC.ALTERNATE_COMPONENT&#10;FROM SFC&#10;INNER JOIN SFC_BOM ON SFC.HANDLE = SFC_BOM.SFC_BO &#10;INNER JOIN BOM_COMPONENT ON SFC_BOM.BOM_BO= BOM_COMPONENT.BOM_BO &#10;--[Param.2]--AND BOM_COMPONENT.COMPONENT_GBO = 'ItemBO:1020,TEST_MES_GIGR_SER1,#'&#10;LEFT JOIN (SELECT DISTINCT ALTERNATE_COMPONENT.BOM_COMPONENT_BO AS ALTERNATE_COMPONENT FROM ALTERNATE_COMPONENT) AC ON BOM_COMPONENT.HANDLE =  AC.ALTERNATE_COMPONENT&#10;INNER JOIN BOM_OPERATION ON BOM_OPERATION.BOM_COMPONENT_BO = BOM_COMPONENT.HANDLE &#10;LEFT JOIN ITEM ON SUBSTR(BOM_COMPONENT.COMPONENT_GBO,1,LENGTH(BOM_COMPONENT.COMPONENT_GBO)-2) = SUBSTR(ITEM.HANDLE,1,LENGTH(ITEM.HANDLE)-2)&#10;LEFT JOIN SFC_ASSY ON SFC_ASSY.BOM_COMPONENT_GBO = BOM_COMPONENT.HANDLE AND SFC_ASSY.SFC_BOM_BO = SFC_BOM.HANDLE AND SFC_ASSY.REMOVED = 'false' &#10;LEFT JOIN SFC_ASSY_DATA ON SFC_ASSY.HANDLE = SFC_ASSY_DATA.SFC_ASSY_BO&#10;WHERE &#10;  SFC.SFC = '[Param.1]' &#10; -- AND REGEXP_SUBSTR (BOM_COMPONENT.COMPONENT_GBO, '[^,]+', 1, 2) IN ([Param.3])&#10;-- AND REGEXP_SUBSTR (BOM_OPERATION.OPERATION_BO, '[^,]+', 1, 2) IN ([Param.2])&#10;--WHERE SFC.SHOP_ORDER_BO = 'ShopOrderBO:1020,60000475'&#10;)&#10;&#10;&#10;SELECT &#10;    A1.SFC,&#10;    SUBSTR(A1.OPERATION, 1, 4) AS SHORT_OPERATION,&#10;    A1.REQUIRED_COMPONENT,&#10;    A1.DESCRIPTION,&#10;    A1.QTY_TO_ASSEMBLE,&#10;&#10;    SUBSTR(A1.ASSEMBLED_COMPONENT,13,LENGTH(A1.ASSEMBLED_COMPONENT)-14) AS ASSEMBLED_COMPONENT,&#10;    A1.ASSEMBLED_QTY,&#10;    to_char(A1.ASSEMBLED_DATE, 'dd/mm/yyyy hh24:mi:ss') AS ASSEMBLED_DATE,&#10;CASE WHEN A1.ASSEMBLED_QTY &gt; 0 THEN 'YES' ELSE 'NO' END AS ASSEMBLED_STATUS,&#10;    A2.DATA_ATTR AS ERP_SERIAL,&#10;    CASE WHEN A1.DATA_FIELD = 'ACTUAL_SERIAL_NUMBER' THEN A1.DATA_ATTR ELSE NULL END AS ACTUAL_SERIAL_NUMBER,&#10;    CASE WHEN A1.DATA_FIELD != 'ACTUAL_SERIAL_NUMBER' AND A1.DATA_ATTR IS NOT NULL THEN A1.DATA_ATTR ELSE NULL END AS OTHER_SERIAL_NUMBER,&#10;    A1.IS_SERIALISED,&#10;&#9;A1.ALTERNATE_COMPONENT,&#10;    A1.IS_BACK_FLUSH,&#10;    A1.SHOP_ORDER&#10;    &#10;   &#10;FROM &#10;    A A1 &#10;    LEFT JOIN (SELECT * FROM A WHERE A.DATA_FIELD = 'ERP_SERIAL_NUMBER') A2 &#10;        ON A1.ASSEMBLED_COMPONENT = A2.ASSEMBLED_COMPONENT AND A1.SFC = A2.SFC &#10;WHERE  &#10;    (A1.DATA_FIELD != 'ERP_SERIAL_NUMBER' OR A1.DATA_FIELD IS NULL)&#10;ORDER BY &#10;    A1.OPERATION&#10;" QueryParams="" ReaderRoles="SAP_XMII_User" RestrictedPropertyOverride="false" RowCount="100" SaveDate="05/06/2024 13:29:27" Schedule="" SelectedColumns="" Server="SAPMEWIP" Service="" SetMaxRows="true" SortExpr="" StartDate="" Tables="" Time="" TimePeriod="" Trace="false" TransformerLibrary="" UseTypedParams="false" UserName="" Version="15.1.5.15" WriterRoles="SAP_XMII_Super_Administrator,SAP_XMII_Administrator,SAP_XMII_Developer" XParamName.1="" XParamName.10="" XParamName.11="" XParamName.12="" XParamName.13="" XParamName.14="" XParamName.15="" XParamName.16="" XParamName.2="" XParamName.3="" XParamName.4="" XParamName.5="" XParamName.6="" XParamName.7="" XParamName.8="" XParamName.9="" XParamValue.1="" XParamValue.10="" XParamValue.11="" XParamValue.12="" XParamValue.13="" XParamValue.14="" XParamValue.15="" XParamValue.16="" XParamValue.2="" XParamValue.3="" XParamValue.4="" XParamValue.5="" XParamValue.6="" XParamValue.7="" XParamValue.8="" XParamValue.9="" XmlDateFormat="yyyy-MM-dd'T'HH:mm:ss" XmlNumberFormat=""><Tasks/><ETCServers/><ETCObjects/></SQLQuery>